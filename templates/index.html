<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Personal Script Generator</title>
    <!-- Include Tailwind CSS via CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Include Highlight.js for syntax highlighting -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/atom-one-dark.min.css">
    <!-- Use a link tag for the local stylesheet -->
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body class="bg-slate-900 text-slate-100 font-sans min-h-screen p-8 flex flex-col">

    <!-- New glowing background element -->
    <div class="glowing-background"></div>

    <!-- Full-page loading overlay -->
    <div id="loadingOverlay" class="fixed inset-0 flex items-center justify-center z-50 transition-opacity duration-300 opacity-0 pointer-events-none">
        <div class="loader-spinner"></div>
    </div>

    <!-- The content is now floating directly on the body background -->
    <div class="relative z-10 w-full max-w-4xl rounded-2xl mx-auto flex-grow">
        <h1 class="text-4xl font-bold text-center mb-6 text-emerald-400 drop-shadow-lg">Code Generator</h1>
        <p class="text-center text-slate-400 mb-8">
            Tell me what you need, and I will generate a script for you.
        </p>

        <!-- Language selection dropdown -->
        <div class="mb-4 bg-slate-800/50 p-6 rounded-lg backdrop-blur-sm border border-slate-700/50">
            <label for="languageSelect" class="block text-slate-400 font-medium mb-2">Select Language</label>
            <select id="languageSelect" class="w-full p-3 rounded-lg bg-slate-800 border-2 border-slate-700 text-slate-200 focus:outline-none focus:border-emerald-500 transition-colors duration-200">
                <option value="none">Auto-detect</option>
                <option value="python">Python</option>
                <option value="javascript">JavaScript</option>
                <option value="html">HTML</option>
                <option value="css">CSS</option>
                <option value="bash">Shell</option>
                <option value="json">JSON</option>
                <option value="markdown">Markdown</option>
                <option value="java">Java</option>
                <option value="c++">C++</option>
            </select>
        </div>
        
        <div class="mb-4 bg-slate-800/50 p-6 rounded-lg backdrop-blur-sm border border-slate-700/50">
            <textarea id="promptInput" rows="5" placeholder="e.g., A Python script to sort a list of numbers, a shell script to backup files..."
                class="w-full p-4 rounded-lg bg-slate-800 border-2 border-slate-700 focus:outline-none focus:border-emerald-500 text-slate-200 resize-none transition-colors duration-200"></textarea>
        </div>

        <div class="flex flex-col sm:flex-row gap-4 mb-8">
            <button id="generateButton"
                class="w-full bg-emerald-600 text-white font-semibold py-3 px-6 rounded-lg shadow-lg hover:bg-emerald-500 transition-transform transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed">
                Generate Script
            </button>
            <button id="clearButton"
                class="w-full bg-slate-600 text-white font-semibold py-3 px-6 rounded-lg shadow-lg hover:bg-slate-500 transition-transform transform hover:scale-105">
                Clear
            </button>
        </div>
        
        <div id="responseContainer" class="mt-8 relative bg-slate-800/50 p-6 rounded-lg backdrop-blur-sm border border-slate-700/50">
            <h2 class="text-2xl font-semibold mb-4 text-emerald-300">Generated Script:</h2>
            <button id="copyButton" class="copy-button absolute top-0 right-0 m-4 px-4 py-2 bg-emerald-500 text-white text-xs font-bold rounded-full shadow-lg hover:bg-emerald-400 transition-colors duration-200" style="display: none;">Copy</button>
            <div id="responseBox" class="response-box rounded-lg whitespace-pre-wrap overflow-x-auto text-sm">
                <p>Your generated script will appear here.</p>
            </div>
        </div>
    </div>
    
    <footer class="text-center text-slate-500 text-sm mt-12 mb-4">
        <p>&copy; 2024 Script Generator. All rights reserved.</p>
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>
